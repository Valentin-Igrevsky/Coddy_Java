# ДЗ №8 (с 09.11.25 до 16.11.25)

---

---

### Введение

На занятии мы рассмотрели:
- как создавать новые классы 
- как инициализировать экземпляры класса
- конструктор по умолчанию
- ключевые слова `public`/`private`
- что такое `return`
- написали следующий код:

```java
public class Main {
    public static void main(String[] args) {
        Player player = new Player("Valentin");

        System.out.println(player.name);

        int given_damage = player.damage(9);
        System.out.printf("-%s\n", given_damage);

        int given_heal = player.eat_medkit(10);
        System.out.printf("+%s\n", given_heal);
    }
}

class Player {
    String name;
    private int hp;
    
    Player(String name) {
        this.hp = 100;
        this.name = name;
    }

    public int damage(int damage_hp) {
        this.hp -= damage_hp;
        return damage_hp;
    }

    private int heal(int heal_hp) {
        this.hp += heal_hp;
        return heal_hp;
    }

    public int eat_medkit(int hp) {
        return heal(hp);
    }
}
```

В заданиях за основу нужно взять данный код и его модернизировать и протестировать работу.

Чтобы все заработало и можно было поэксперементировать, нужно выполнить все 4 задания.

---

---

### Задание №1

- Создайте новый класс `Sword` (меч)
  - Должно быть `private` целочисленное поле `base_damage` (базовый урон)
  - Должно быть приватное целочисленное поле `durability` (прочность/долговечность)
  - Должен быть конструктор по умолчанию, который принимает паметры `int base_damage` и `int durability` и записывающий полученные значения в соответвующие поля
  - Должен быть `public` метод `hit`:
    - При вызове метода поле `durability` уменьшается на 1
    - Метод возвращает (`return`):
      - значение поля `base_damage`, если `durability` > 0
      - иначе возвращает `0`


- Создайте новый класс `Medkit` (аптечка)
  - Должно быть приватное целочисленное поле `heal_points` (окчи исцеления)
  - Должно быть приватное целочисленное поле `count` (количество, в данном случае количество использований)
  - Должен быть конструктор по умолчанию, который принимает паметры `int heal_points` и `int count` и записывающий полученные значения в соответвующие поля
  - Должен быть публичный метод `use`:
    - При вызове метода поле `count` уменьшается на 1
    - Метод возвращает:
      - значение поля `base_damage`, если `count` > 0
      - иначе возвращает `0`

---

Классы очень похожи друг на друга, поэтому рассмотрим класс `Sword`:

```java
class Sword {
    private int base_damage;
    private int durability;

    Sword(int base_damage, int durability) {
        this.base_damage = base_damage;
        this.durability = durability;
    }

    public int hit() {
        if (durability > 0) {
            durability--;
            return base_damage;
        } else {
            return 0;
        }
    }
}
```

---

---

### Задание №2

Измените класс `Player`:

- Сделайте поле `name` приватным


- Создайте приватное целочисленно поле `max_hp` равное 100


- Перепишите метод `damage`:
  - Метод должен принимать экземпляр класса `Sword sword`
  - Далее внутри метода вызываем у экземпляра класса `sword` метод `hit` и записываем полученно значени в новую переменную `int sword_damage`
  - Вычисляем оставшееся здоровье у персонажа: `int remaining_health = this.hp - sword_damage;`
    - Если оставшееся здоровье <= 0, тогда:
      - Запишем в перемунную `taken_damage` текущее здоровье (`this.hp`)
      - Сделаем здоровье персонажа равным `0`
      - Вернем (`return`) значение `taken_damage`
    - Иначе
      - Вычлем из здоровья персонажа `sword_damage`
      - Вернем значение `sword_damage`


- Перепишите метод `heal`:
  - Вычисляем новое здоровье у персонажа: `int new_hp = this.hp + heal_hp;`
    - Если новое зводовье > `this.max_hp`, тогда:
      - Рассчитываем реально полученный хил (тут подскажу: `int taken_hp = heal_hp - (new_hp - this.max_hp);`)
      - Сделаем здоровье персонажа равным `this.max_hp`
      - Вернем `taken_hp`
    - Иначе
      - Сделаем здоровье персонажа равным `hew_hp` (тут два способа может быть - подумайте какие)
      - Вернем `heal_hp`


- Перепишите метод `eat_medkit`:
  - Метод должен принимать экземпляр класса `Medkit medkit`
  - Возвращаемое значение: `heal(medkit.use());`

---

Пример измененного метода `damage`:

```java
public int damage(Sword sword) {
    int sword_damage = sword.hit();
    int remaining_health = this.hp - sword_damage;
    if (remaining_health <= 0) {
        int taken_damage = this.hp;
        this.hp = 0;
        return taken_damage;
    } else {
        this.hp -= sword_damage;
        return sword_damage;
    }
}
```

---

---

### Задание №3

В классе Main измените метод `main`:
- Создайте экземпляр класса `Sword`
- Создайте экземпляр класса `Medkit`
- При вызове `damage` метода у `player` передайте в качестве параметра созданный экземпляр класса `Sword`
- При вызове `eat_medkit` метода у `player` передайте в качестве параметра созданный экземпляр класса `Medkit`

### Задание №4

Чтобы можно было отслеживать состояние персонажа, меча и аптечки добавьте в классы метод:

---

Класс `Player`:

```java
public void stat() {
    System.out.println("name: " + name);
    System.out.println("hp " + hp);
}
```

---

Класс `Sword`:

```java
public void stat() {
    System.out.println("base_damage: " + base_damage);
    System.out.println("durability: " + durability);
}
```

---

Класс `Medkit`:

```java
public void stat() {
    System.out.println("heal_points: " + heal_points);
    System.out.println("count: " + count);
}
```

---

После добавления в методе `main` можно у каждого экземпляра класса вызвать метод `stat()` и унзать все необходимое

---

---

### Как будет выглядеть программа:

Вам нужно все дописать по заданию

```java
public class Main {
    public static void main(String[] args) {
        Player player = new Player("Valentin");
        Sword enemy_sword = new Sword(12, 50);
        // Экземпляр класса Medkit


        int given_damage = player.damage(enemy_sword);
        System.out.printf("-%s\n", given_damage);
        enemy_sword.stat();

        int given_heal = player.eat_medkit(/* нужный параметр */);
        System.out.printf("+%s\n", given_heal);
        player_medkit.stat();

        player.stat();
    }
}

class Player {
    private String name;
    private int hp;
    // поле max_hp равное 100;
  
    Player(String name) {
        this.hp = 100;
        this.name = name;
    }

    public int damage(Sword sword) {
        int sword_damage = sword.hit();
        int remaining_health = this.hp - sword_damage;
        if (remaining_health <= 0) {
            int taken_damage = this.hp;
            this.hp = 0;
            return taken_damage;
        } else {
            this.hp -= sword_damage;
            return sword_damage;
        }
    }

    // Обновленный метод heal

    // Обновленный метод eat_medkit
  
    public void stat() {
        System.out.println("name: " + name);
        System.out.println("hp " + hp);
    }
}

class Sword {
    private int base_damage;
    private int durability;

    Sword(int base_damage, int durability) {
        this.base_damage = base_damage;
        this.durability = durability;
    }

    public int hit() {
        if (this.durability > 0) {
            this.durability--;
            return this.base_damage;
        } else {
            return 0;
        }
    }

    public void stat() {
        System.out.println("base_damage: " + base_damage);
        System.out.println("durability: " + durability);
    }
}

class Medkit {
    // Поле heal_points
    // Поле count
  
    // Конструктор по умолчанию
  
    // Метод use

    public void stat() {
        System.out.println("heal_points: " + heal_points);
        System.out.println("count: " + count);
    }
}
```